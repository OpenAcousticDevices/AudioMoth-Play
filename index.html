<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>AudioMoth Play</title>
        <link rel="icon" type="image/png" href="assets/favicon.png">
        <link rel="stylesheet" href="css/external/bootstrap.min.css">
        <link rel="stylesheet" href="css/external/bootstrap-slider.css">
        <link rel="stylesheet" href="css/loadingAnimation.css">
        <link rel="stylesheet" href="css/index.css">
        <script src="scripts/external/jspdf.umd.min.js"></script>
        <script src="scripts/external/FreeSans-normal.js"></script>
        <script src="scripts/external/complex.min.js"></script>
        <script src="scripts/external/ffmpeg-worker-mp4.js"></script>
        <script src="scripts/external/jquery-3.6.0.slim.min.js"></script>
        <script src="scripts/external/bootstrap.bundle.min.js"></script>
        <script src="scripts/external/bootstrap-slider.min.js"></script>
    </head>
    <body style="font-size: 10pt;">
        <div class="container-fluid" style="padding: 11px; margin-left: 0px; margin-right: 0px;">

            <!-- Title -->

            <div class="row justify-content-md-center">
                <div class="col total-width">
                    <h3 style="margin-bottom: 5px; display: inline-block;">AudioMoth Play</h3>
                    <a href="#" id="launch-app-link" style="margin-left: 10px;">Launch as app</a>
                </div>
            </div>

            <!-- File selection description -->

            <div id="file-selection-title-div" class="row justify-content-md-center" style="margin-top: 0px;">
                <div class="col total-width">
                    <span id="file-selection-title-span">Select an AudioMoth WAV file:</span>
                    <span id="browser-error-span" style="color: rgb(52, 93, 164); display: none;">Switch to Google Chrome or Microsoft Edge to load your own recordings or select one of the <a href="#examples">example</a> files.</span>
                    <span id="browser-error-span-app" style="color: rgb(52, 93, 164); display: none;">Switch to Google Chrome or Microsoft Edge to load your own recordings or load an <a href="#" id="app-example-link">example</a> file.</span>
                </div>
            </div>

            <!-- File selection -->

            <div id="file-selection-div" class="row justify-content-md-center" style="margin-top: 5px;">
                <div class="col total-width">
                    <button class="btn btn-primary" id="file-button" style="vertical-align: middle; display: none;" disabled>Select File</button>
                    <button class="btn btn-primary" id="disabled-file-button" style="vertical-align: middle;" disabled>Select File</button>
                    <span id="file-span" style="margin-left: 10px; vertical-align: middle; display: none;"></span>
                    <span id="slice-reselect-span" style="margin-left: 2px; vertical-align: middle; display: none;">(<a href="#" id="slice-reselect-link">00:00:00 - 00:00:00</a>)</span>
                    <a href="#" id="file-information-link" style="margin-left: 10px; vertical-align: middle; display: none;" data-toggle="modal" data-target="#comment-modal">Show file information</a>
                    <span class="loading" id="loading-span" style="margin-left: 10px; vertical-align: middle;">Loading</span>
                    <span id="resampled-span" style="color: blue; vertical-align: middle; margin-left: 10px; display: none;"></span>
                    <span id="error-span" style="color: red; vertical-align: middle; margin-left: 10px; display: none;"></span>
                </div>
            </div>

            <div class="row justify-content-md-center" style="margin-top: 10px;">
                <div class="col plot-width" style="padding: 0px;">
                    <!-- Movement buttons -->

                    <div class="wrapper" style="width: 793px;">
                        <div class="row">
                            <div class="col" style="text-align: left; padding-right: 0px;">
                                <button class="btn btn-success nav-button" id="waveform-home-button" disabled>
                                    <img class="button-icon" src="./assets/house.svg" alt="Bootstrap">
                                </button>
                                <button class="btn btn-primary nav-button" id="waveform-zoom-in-button" disabled>
                                    <img class="button-icon" src="./assets/zoom-in.svg" alt="Bootstrap">
                                </button>
                                <button class="btn btn-primary nav-button" id="waveform-zoom-out-button" disabled>
                                    <img class="button-icon" src="./assets/zoom-out.svg" alt="Bootstrap">
                                </button>
                                <select class="custom-select" id="amplitude-threshold-scale-select" style="vertical-align: middle; height: 35px; width: 120px; font-size: 10pt;">
                                    <option value="1">16-Bit</option>
                                    <option value="2">Decibel</option>
                                    <option value="0" selected>Percentage</option>
                                </select>
                            </div>
                            <div class="col" style="text-align: right; padding-left: 0px;">
                                <button class="btn btn-success nav-button" id="home-button" disabled>
                                    <img class="button-icon" src="./assets/house.svg" alt="Bootstrap">
                                </button>
                                <button class="btn btn-primary nav-button" id="zoom-in-button" disabled>
                                    <img class="button-icon" src="./assets/zoom-in.svg" alt="Bootstrap">
                                </button>
                                <button class="btn btn-primary nav-button" id="zoom-out-button" disabled>
                                    <img class="button-icon" src="./assets/zoom-out.svg" alt="Bootstrap">
                                </button>
                                <button class="btn btn-secondary nav-button" id="pan-left-button" style="display: inline-flex; align-items: center;" disabled>
                                    <img class="button-icon" src="./assets/chevron-left.svg" alt="Bootstrap" id="pan-left-icon">
                                    <img class="button-icon" src="./assets/chevron-double-left.svg" alt="Bootstrap" id="pan-double-left-icon" style="display: none;">
                                </button>
                                <button class="btn btn-secondary nav-button" id="pan-right-button" style="display: inline-flex; align-items: center;" disabled>
                                    <img class="button-icon" src="./assets/chevron-right.svg" alt="Bootstrap" id="pan-right-icon">
                                    <img class="button-icon" src="./assets/chevron-double-right.svg" alt="Bootstrap" id="pan-double-right-icon" style="display: none;">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col control-width control-margin" style="padding-left: 0px;"></div>
            </div>

            <div class="row justify-content-md-center">
                <div class="col plot-width">

                    <!-- Plots -->

                    <!-- Waveform plot -->
                    <div id="waveform-holder" class="row" style="margin-top: 0px; height: 238px; text-align: center;">
                        <span style="text-align: center; width: 748px; margin-left: 45px;">Waveform</span>
                        <div class="wrapper" style="width: 793px; height: 238px;">
                            <svg class="label-canvas" id="waveform-label-svg" width="45" height="238" style="padding: 0%;"></svg>
                            <canvas class="plot-canvas" id="waveform-canvas" width="748" height="238" style="padding: 0%;"></canvas>
                            <canvas class="plot-canvas" id="waveform-threshold-canvas" width="748" height="238"></canvas>
                            <svg class="plot-canvas" id="waveform-threshold-line-svg" width="748" height="238"></svg>
                            <canvas class="plot-canvas" id="waveform-playback-canvas" width="748" height="238"></canvas>
                            <svg class="plot-canvas" id="waveform-loading-svg" width="750" height="238"></svg>
                            <svg class="plot-canvas" id="waveform-border-svg" width="748" height="238" style="padding: 0%;"></svg>
                            <!-- Drag canvas must be on top or it's not draggable -->
                            <canvas class="plot-canvas" id="waveform-drag-canvas" width="748" height="238"></canvas>
                        </div>
                    </div>

                    <!-- Goertzel response plot -->
                    <div id="goertzel-canvas-holder" class="row" style="margin-top: 0px; height: 238px; text-align: center; display: none;">
                        <span style="text-align: center; width: 748px; margin-left: 45px; height: 20px;">Frequency Response</span>
                        <div class="wrapper" style="width: 793px; height: 238px;">
                            <svg class="label-canvas" id="goertzel-label-svg" width="45" height="238" style="padding: 0%;"></svg>
                            <canvas class="plot-canvas" id="goertzel-canvas" width="748" height="238" style="padding: 0%;"></canvas>
                            <canvas class="plot-canvas" id="goertzel-threshold-canvas" width="748" height="238"></canvas>
                            <svg class="plot-canvas" id="goertzel-threshold-line-svg" width="748" height="238"></svg>
                            <canvas class="plot-canvas" id="goertzel-playback-canvas" width="748" height="238"></canvas>
                            <svg class="plot-canvas" id="goertzel-loading-svg" width="750" height="238"></svg>
                            <svg class="plot-canvas" id="goertzel-border-svg" width="748" height="238" style="padding: 0%;"></svg>
                            <!-- Drag canvas must be on top or it's not draggable -->
                            <canvas class="plot-canvas" id="goertzel-drag-canvas" width="748" height="238"></canvas>
                        </div>
                    </div>

                    <!-- Spectrogram plot -->
                    <div class="row" style="margin-top: 20px; height: 275px; text-align: center;">
                        <span style="text-align: center; width: 748px; margin-left: 45px; height: 20px;">Spectrogram</span>
                        <div class="wrapper" style="width: 793px; height: 255px;">
                            <svg class="label-canvas" id="spectrogram-label-svg" width="45" height="255" style="padding: 0%;"></svg>
                            <canvas class="plot-canvas" id="spectrogram-canvas" width="748" height="255" style="padding: 0%;"></canvas>
                            <canvas class="plot-canvas" id="spectrogram-threshold-canvas" width="748" height="255"></canvas>
                            <canvas class="plot-canvas" id="spectrogram-goertzel-canvas" width="748" height="255" style="display: none;"></canvas>
                            <svg class="plot-canvas" id="spectrogram-goertzel-line-svg" width="748" height="255" style="display: none;"></svg>
                            <canvas class="plot-canvas" id="spectrogram-playback-canvas" width="748" height="255"></canvas>
                            <svg class="plot-canvas" id="spectrogram-loading-svg" width="750" height="255"></svg>
                            <svg class="plot-canvas" id="spectrogram-border-svg" width="748" height="255" style="padding: 0%;"></svg>
                            <!-- Drag canvas must be on top or it's not draggable -->
                            <canvas class="plot-canvas" id="spectrogram-drag-canvas" width="748" height="255"></canvas>
                        </div>
                    </div>

                    <!-- Time axis -->
                    <div class="row" style="margin-top: 0%; text-align: center;">
                        <svg id="time-axis-label-svg" width="810" height="20" style="padding: 0%; margin-left: 0px;"></svg>
                    </div>

                    <!-- Time axis heading -->
                    <div class="row" style="margin-top: 0%; text-align: center;">
                        <svg id="time-axis-heading-svg" width="780" height="20" style="padding: 0%; margin-left: 30px;"></svg>
                    </div>

                </div>

                <div class="col control-width control-margin" style="padding: 0px;">

                    <!-- Sample rate selection -->

                    <div id="sample-rate-holder" style="border: #cdcdcd thin solid; width: 100%; margin-top: 20px; display: none;">
                        <div class="row" style="margin-top: 8px;">
                            <div class="col-12">
                                <div style="margin-left: 5px; margin-right: 4px">
                                    <table class="table" style="margin-bottom: 8px;">
                                        <tr class="settings-text" style="font-size: 12px;" title="Sample rate used when making recordings.">
                                            <td align="center" style="padding: 0px; padding-left: 0px;"></td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">8</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">16</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">32</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">48</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">96</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">192</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">250</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;" name="sample-rate-label">384</td>
                                        </tr>
                                        <tr class="settings-text" title="Sample rate used when making recordings.">
                                            <td align="left" style="padding-top: 0px; padding-bottom: 0px;">Sample rate (kHz):</td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="0" name="sample-rate-radio">
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="1" name="sample-rate-radio">
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="2" name="sample-rate-radio">
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="3" name="sample-rate-radio">
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="4" name="sample-rate-radio">
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="5" name="sample-rate-radio" checked>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="6" name="sample-rate-radio">
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="7" name="sample-rate-radio">
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="disabled-sample-rate-holder" style="border: #cdcdcd thin solid; width: 100%; margin-top: 20px;">
                        <div class="row" style="margin-top: 8px;">
                            <div class="col-12">
                                <div style="margin-left: 5px; margin-right: 4px">
                                    <table class="table" style="margin-bottom: 8px;">
                                        <tr class="settings-text grey" style="font-size: 12px;" title="Sample rate used when making recordings.">
                                            <td align="center" style="padding: 0px; padding-left: 0px;"></td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">8</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">16</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">32</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">48</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">96</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">192</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">250</td>
                                            <td align="center" style="padding: 0px; padding-left: 0px;">384</td>
                                        </tr>
                                        <tr class="settings-text grey" title="Sample rate used when making recordings.">
                                            <td align="left" style="padding-top: 0px; padding-bottom: 0px;">Sample rate (kHz):</td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="0" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="1" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="2" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="3" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="4" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="5" name="disabled-sample-rate-radio" checked disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="6" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                            <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                <input class="settings-inputs" type="radio" value="7" name="disabled-sample-rate-radio" disabled>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Threshold selection -->

                    <div class="row" style="margin-top: 8px;">
                        <div class="col-12">
                            <div style="border: #cdcdcd thin solid; width: 100%; margin-top: 0px; ">
                            
                                <div class="row" style="margin-top: 8px; margin-bottom: 4px;">
                                    <div class="col-12">
                                        <div style="margin-left: 5px; margin-right: 4px">
                                            <table class="table" style="margin-bottom: 4px;" title="Type of threshold." id="threshold-type-table">
                                                <tr class="settings-text" style="font-size: 12px;">
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px" name="threshold-radio-label">None</td>                     
                                                    <td align="center" style="padding: 0px" name="threshold-radio-label">Amplitude</td>
                                                    <td align="center" style="padding: 0px" name="threshold-radio-label">Frequency</td>
                                                </tr>
                                                <tr class="settings-text">
                                                    <td align="left" style="padding-top: 0px; padding-bottom: 0px;" id="threshold-type-label">Trigger type:</td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="0" name="threshold-type-radio" checked>
                                                    </td>                        
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="1" name="threshold-type-radio">
                                                    </td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="2" name="threshold-type-radio">
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                    
                            </div>
                        </div>
                    </div>
                    
                    <!-- Filtering -->
                    
                    <div id="filter-holder" class="row">
                        <div class="col-12" style="margin-top: 8px;">
                            <div style="border: #cdcdcd thin solid; width: 100%;">
                            
                                <div class="row" style="margin-top: 8px;">
                                    <div class="col-12">
                                        <div style="margin-left: 5px; margin-right: 4px">
                                            <table class="table" style="margin-bottom: 4px;" title="Type of filter." id="filter-type-table">
                                                <tr class="settings-text" style="font-size: 12px;">
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px"></td>
                                                    <td align="center" style="padding: 0px" name="filter-radio-label">None</td>                
                                                    <td align="center" style="padding: 0px" name="filter-radio-label">Low</td>                
                                                    <td align="center" style="padding: 0px" name="filter-radio-label">Band</td>
                                                    <td align="center" style="padding: 0px" name="filter-radio-label">High</td>
                                                </tr>
                                                <tr class="settings-text">
                                                    <td align="left" style="padding-top: 0px; padding-bottom: 0px;" id="filter-type-label">Filter type:</td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px"></td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="3" name="filter-radio" checked>
                                                    </td>                        
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="0" name="filter-radio">
                                                    </td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="1" name="filter-radio">
                                                    </td>
                                                    <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                        <input type="radio" value="2" name="filter-radio">
                                                    </td>   
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                    
                                <!-- Disabled filter -->
                                <div class="row grey" id="disabled-row" style="margin-top: 8px; margin-bottom: 8px; display: flex; align-items: center;">
                                    <div class="col-2" style="text-align: left; padding-right: 0px;">
                                        <span class="settings-text" id="disabled-filter-min-label" style="margin-left: 16px; font-weight: bold;">0kHz</span>
                                    </div>
                                    <div id="disabled-filter-slider-holder" class="col-8 config-slider" title="The low and high cut-off frequencies of the disabled filter." style="padding-left: 0px; padding-right: 0px;">
                                        <input id="disabled-filter-slider" data-slider-id="disabled-filter-slider" type="text" class="span2" data-slider-value="0" style="width: 370px;">
                                    </div>
                                    <div class="col-2" style="text-align: right;">
                                        <span class="settings-text" id="disabled-filter-max-label" style="font-weight: bold; padding-right: 18px;">24kHz</span>
                                    </div>
                                </div>
                            
                                <!-- High-pass filter -->
                                <div class="row" id="high-pass-row" style="margin-top: 8px; margin-bottom: 8px; display: none; align-items: center;">
                                    <div class="col-2" style="text-align: left; padding-right: 0px;">
                                        <span class="settings-text" id="high-pass-min-label" style="margin-left: 16px; font-weight: bold;">0kHz</span>
                                    </div>
                                    <div id="high-pass-filter-slider-holder" class="col-8 config-slider" title="The cut-off frequency of the high-pass filter." style="padding-left: 0px; padding-right: 0px;">
                                        <input id="high-pass-filter-slider" data-slider-id="high-pass-filter-slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="24000" data-slider-step="100" data-slider-value="18000" data-slider-selection="after" style="width: 370px;">
                                    </div>
                                    <div class="col-2" style="text-align: right;">
                                        <span class="settings-text" id="high-pass-filter-max-label" style="font-weight: bold; padding-right: 18px;">24kHz</span>
                                    </div>
                                </div>
                            
                                <!-- Low-pass filter -->
                                <div class="row" id="low-pass-row" style="margin-top: 8px; margin-bottom: 8px; display: none; align-items: center;">
                                    <div class="col-2" style="text-align: left; padding-right: 0px;">
                                        <span class="settings-text" id="low-pass-filter-min-label" style="margin-left: 16px; font-weight: bold;">0kHz</span>
                                    </div>
                                    <div id="low-pass-filter-slider-holder" class="col-8 config-slider" title="The cut-off frequency of the low-pass filter." style="padding-left: 0px; padding-right: 0px;">
                                        <input id="low-pass-filter-slider" data-slider-id="low-pass-filter-slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="24000" data-slider-step="100" data-slider-value="6000" data-slider-selection="before" style="width: 370px;">
                                    </div>
                                    <div class="col-2" style="text-align: right;">
                                        <span class="settings-text" id="low-pass-filter-max-label" style="font-weight: bold; padding-right: 18px;">24kHz</span>
                                    </div>
                                </div>
                            
                                <!-- Band-pass filter -->
                                <div class="row" id="band-pass-row" style="margin-top: 8px; margin-bottom: 8px; display: none; align-items: center;">
                                    <div class="col-2" style="text-align: left; padding-right: 0px;">
                                        <span class="settings-text" id="band-pass-filter-min-label" style="margin-left: 16px; font-weight: bold;">0kHz</span>
                                    </div>
                                    <div id="band-pass-filter-slider-holder" class="col-8 config-slider" title="The low and high cut-off frequencies of the band-pass filter." style="padding-left: 0px; padding-right: 0px;">
                                        <input id="band-pass-filter-slider" data-slider-id="band-pass-filter-slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="24000" data-slider-step="100" data-slider-value="[6000,18000]" data-slider-selection="before" style="width: 370px;">
                                    </div>
                                    <div class="col-2" style="text-align: right;">
                                        <span class="settings-text" id="band-pass-filter-max-label" style="font-weight: bold; padding-right: 18px;">24kHz</span>
                                    </div>
                                </div>
                            
                                <div class="row" style="margin-top: 8px;">
                                    <div class="col-12" style="margin-left: 16px;">
                                        <label class="settings-text" id="filter-label" style="width: 100%; resize:none; text-align: left; font-weight: normal;">Recordings will not be filtered.</label>
                                    </div>
                                </div>
                            
                            </div>
                        </div>
                    </div>
                    
                    <div id="threshold-holder" class="row" style="margin-top: 8px;">
                        <div class="col-12">
                            <div style="border: #cdcdcd thin solid; width: 100%;">
                    
                                <!-- Amplitude threshold -->
                    
                                <div id="amplitude-threshold-holder" style="margin-bottom: 8px;">
                            
                                    <div class="row" style="margin-top: 8px; margin-bottom: 8px;">
                                        <div class="col-12">
                                            <div style="margin-left: 5px; margin-right: 4px">
                                                <table class="table" style="margin-bottom: 4px;" id="amplitude-threshold-duration-table">
                                                    <tr class="settings-text" style="font-size: 12px;" title="Minimum trigger length.">
                                                        <td align="center" style="padding: 0px; padding-left: 0px;"></td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">0</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">1</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">2</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">5</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">10</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">15</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">30</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="amplitude-threshold-duration-radio-label">60</td>
                                                    </tr>
                                                    <tr class="settings-text" title="Minimum trigger length.">
                                                        <td align="left" style="padding-top: 0px; padding-bottom: 0px;">Minimum trigger duration (s):</td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio0" value="0" name="amplitude-threshold-duration-radio" checked>
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio1" value="1" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio2" value="2" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio3" value="3" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio4" value="4" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio5" value="5" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio6" value="6" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="amplitude-threshold-duration-radio7" value="7" name="amplitude-threshold-duration-radio">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="row" id="amplitude-threshold-slider-row" style="margin-top: 8px; margin-bottom: 12px; display: flex; align-items: center;">
                                        <div class="col-2" style="text-align: left; padding-right: 0px;">
                                            <span class="settings-text" id="amplitude-threshold-min-label" style="margin-left: 16px; font-weight: bold;">0.001%</span>
                                        </div>
                                        <div id="amplitude-threshold-slider-holder" class="col-8 config-slider" style="padding-left: 0%; padding-right: 0%;" title="The amplitude threshold below which audio is not written to the SD card.">
                                            <input class="settings-inputs" id="amplitude-threshold-slider" data-slider-id="amplitude-threshold-slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="10000" data-slider-step="1" data-slider-value="0" data-slider-selection="after" style="width: 370px;">
                                        </div>
                                        <div class="col-2" style="text-align: right;">
                                            <span class="settings-text" id="amplitude-threshold-max-label" style="font-weight: bold; text-align: right; padding-right: 18px;">100%</span>
                                        </div>
                                    </div>
                    
                                </div>
                    
                                <!-- Goertzel filter -->
                    
                                <div id="goertzel-filter-threshold-holder" style="margin-bottom: 8px;">
                    
                                    <div class="row" style="margin-top: 8px; margin-bottom: 8px;">
                                        <div class="col-12">
                                            <div style="margin-left: 5px; margin-right: 4px">
                                                <table class="table" style="margin-bottom: 4px;" id="goertzel-filter-window-table">
                                                    <tr class="settings-text" style="font-size: 12px;" title="Window length of the Goertzel filter.">
                                                        <td align="center" style="padding: 0px; padding-left: 0px;"></td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px; width: 50px;"></td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">16</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">32</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">64</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">128</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">256</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">512</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-filter-window-radio-label">1024</td>
                                                    </tr>
                                                    <tr class="settings-text" title="Window length.">
                                                        <td align="left" style="padding-top: 0px; padding-bottom: 0px; width: 204px;">Window length (samples):</td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px; width: 13px;">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio1" value="0" name="goertzel-filter-window-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio2" value="1" name="goertzel-filter-window-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio3" value="2" name="goertzel-filter-window-radio" checked>
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio4" value="3" name="goertzel-filter-window-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio5" value="4" name="goertzel-filter-window-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio6" value="5" name="goertzel-filter-window-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-filter-window-radio7" value="6" name="goertzel-filter-window-radio">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                    
                                    <div class="row" id="goertzel-filter-row" style="margin-top: 8px; margin-bottom: 8px; display: flex; align-items: center;">
                                        <div class="col-2" style="text-align: left; padding-right: 0px;">
                                            <span class="settings-text" id="goertzel-filter-min-label" style="margin-left: 16px; font-weight: bold;">0kHz</span>
                                        </div>
                                        <div id="goertzel-filter-slider-holder" class="col-8 config-slider" title="The centre frequency of the Goertzel filter." style="padding-left: 0px; padding-right: 0px;">
                                            <input id="goertzel-filter-slider" data-slider-id="goertzel-filter-slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="24000" data-slider-step="100" data-slider-value="12000" data-slider-selection="none" style="width: 370px;">
                                        </div>
                                        <div class="col-2" style="text-align: right;">
                                            <span class="settings-text" id="goertzel-filter-max-label" style="font-weight: bold; padding-right: 18px;">24kHz</span>
                                        </div>
                                    </div>
                    
                                    <!-- Filter status -->
                    
                                    <div class="row" style="margin-top: 8px;">
                                        <div class="col-12" style="margin-left: 16px;">
                                            <label class="settings-text" id="goertzel-filter-label" style="width: 100%; resize:none; text-align: left; font-weight: normal;">A centre frequency of XXXkHz will be used by the frequency trigger.</label>
                                        </div>
                                    </div>
                    
                                    <div class="row" style="margin-top: 18px; margin-bottom: 8px;">
                                        <div class="col-12">
                                            <div style="margin-left: 5px; margin-right: 4px">
                                                <table class="table" style="margin-bottom: 4px;" id="goertzel-duration-table">
                                                    <tr class="settings-text" style="font-size: 12px;" title="Minimum trigger length.">
                                                        <td align="center" style="padding: 0px; padding-left: 0px;"></td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">0</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">1</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">2</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">5</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">10</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">15</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">30</td>
                                                        <td align="center" style="padding: 0px; padding-left: 0px;" name="goertzel-duration-radio-label">60</td>
                                                    </tr>
                                                    <tr class="settings-text" title="Minimum trigger length.">
                                                        <td align="left" style="padding-top: 0px; padding-bottom: 0px;">Minimum trigger duration (s):</td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio0" value="0" name="goertzel-duration-radio" checked>
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio1" value="1" name="goertzel-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio2" value="2" name="goertzel-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio3" value="3" name="goertzel-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio4" value="4" name="goertzel-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio5" value="5" name="goertzel-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio6" value="6" name="goertzel-duration-radio">
                                                        </td>
                                                        <td align="center" style="padding-top: 0px; padding-bottom: 0px">
                                                            <input class="settings-inputs" type="radio" id="goertzel-duration-radio7" value="7" name="goertzel-duration-radio">
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                    
                                    <div class="row" id="goertzel-threshold-row" style="margin-top: 8px; margin-bottom: 12px; display: flex; align-items: center;">
                                        <div class="col-2" style="text-align: left; padding-right: 0px;">
                                            <span class="settings-text" id="goertzel-threshold-min-label" style="margin-left: 16px; font-weight: bold;">0.001%</span>
                                        </div>
                                        <div id="goertzel-threshold-slider-holder" class="col-8 config-slider" style="padding-left: 0%; padding-right: 0%;">
                                            <input class="settings-inputs" id="goertzel-threshold-slider" data-slider-id="goertzel-threshold-slider" type="text" class="span2" value="" data-slider-min="0" data-slider-max="10000" data-slider-step="1" data-slider-value="0" data-slider-selection="after" style="width: 370px;">
                                        </div>
                                        <div class="col-2" style="text-align: right;">
                                            <span class="settings-text" id="goertzel-threshold-max-label" style="font-weight: bold; text-align: right; padding-right: 18px;">100%</span>
                                        </div>
                                    </div>
                    
                                </div>
                    
                                <!-- Threshold status -->
                    
                                <div class="row">
                                    <div class="col-12" style="margin-left: 16px;">
                                        <label class="settings-text" id="threshold-label" style="width: 100%; resize:none; text-align: left; font-weight: normal;">All audio will be written to a WAV file.</label>
                                    </div>
                                </div>
                    
                            </div>
                        </div>
                    </div>

                    <div style="border: #cdcdcd thin solid; margin-top: 10px;">
                        <div class="row" style="margin-top: 5px; margin-bottom: 5px;">
                            <div class="col-12">
                                <div style="display: table-cell; vertical-align: middle; width: 543px; height: 58px; text-align: center;">
                                    <label class="grey" id="size-information-panel" style="width: 100%; resize:none; text-align: center; font-weight: normal;">No WAV file selected.</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="position: absolute; bottom: 40px;">
    
                        <div class="row control-width" style="margin-top: 15px; margin-left: 0px; margin-right: 0px;">
                            <div class="col-6" style="padding-left: 0%;">
                                <button class="btn btn-primary" id="reset-button" style="width: 100%;" disabled>Reset</button>
                            </div>
                            <div class="col-6" style="padding-right: 0%;">
                                <button class="btn btn-success" id="export-button" style="width: 100%;" disabled>Export Configuration</button>
                            </div>
                        </div>
                    
                    </div>



                </div>
            </div>

            <div class="row justify-content-md-center" style="margin-top: 10px;">
                <div class="col plot-width" style="padding: 0px;">
                    <div class="wrapper" style="width: 793px;">
                        <div class="row">

                            <div class="col-11">

                                <button class="btn btn-success nav-button" id="play-button" disabled style="margin-left: 0px;">
                                    <img id="play-icon" class="button-icon" src="./assets/play.svg" alt="Bootstrap">
                                    <img id='stop-icon' class="button-icon" src="./assets/stop.svg" alt="Bootstrap" style="display: none;">
                                </button>

                                <button id="export-video-button" class="btn btn-success nav-button" disabled>
                                    <img id="video-icon" class="button-icon" src="./assets/camera-video.svg" alt="Bootstrap">
                                    <div class="d-flex justify-content-center">
                                        <div id="video-spinner" class="spinner-border spinner-border-sm" role="status" style="display: none;">
                                            <span class="sr-only">Loading...</spa>
                                        </div>
                                    </div>
                                </button>

                                <select class="custom-select" id="playback-speed-select" style="vertical-align: middle; width: 120px; height: 35px; font-size: 10pt;">
                                    <option id="playback-speed-option-2" value="2">Speed: &times;2</option>
                                    <option id="playback-speed-option-1" value="1" selected="selected">Speed: &times;1</option>
                                    <option id="playback-speed-option-1-2" value="0.5">Speed: &divide;2</option>
                                    <option id="playback-speed-option-1-4" value="0.25">Speed: &divide;4</option>
                                    <option id="playback-speed-option-1-8" value="0.125">Speed: &divide;8</option>
                                    <option id="playback-speed-option-1-16" value="0.0625">Speed: &divide;16</option>
                                </select>

                                <select class="custom-select" id="volume-select" style="vertical-align: middle; width: 120px; height: 35px; font-size: 10pt;">
                                    <option id="volume-option-1-2" value="0.5">Volume: &divide;2</option>
                                    <option id="volume-option-1" value="1" selected="selected">Volume: &times;1</option>
                                    <option id="volume-option-2" value="2">Volume: &times;2</option>
                                    <option id="volume-option-4" value="4">Volume: &times;4</option>
                                    <option id="volume-option-8" value="8">Volume: &times;8</option>
                                    <option id="volume-option-16" value="16">Volume: &times;16</option>
                                </select>


                                <button id="export-audio-button" class="btn btn-warning nav-button" style="margin-left: 20px;" disabled>
                                    <img id="download-icon" class="button-icon" src="./assets/download.svg" alt="Bootstrap">
                                </button>
                                
                                <button class="btn btn-warning nav-button" id="export-modal-button" data-toggle="modal" data-target="#export-modal" disabled>
                                    <img id="camera-icon" class="button-icon" src="./assets/camera.svg" alt="Bootstrap">
                                </button>

                                <select class="custom-select" id="playback-mode-select" style="vertical-align: middle; width: 170px; height: 35px; font-size: 10pt; margin-left: 20px;">
                                    <option id="playback-mode-option-all" value="0" selected="selected">Regular WAV file</option>
                                    <option id="playback-mode-option-mute" value="1">Triggered T.WAV file</option>
                                    <option id="playback-mode-option-skip" value="2">Expanded T.WAV file</option>
                                </select>

                            </div>

                            <div class="col-1">
                                <button class="btn btn-secondary nav-button" id="settings-modal-button">
                                    <img id="gear-icon" class="button-icon" src="./assets/gear.svg" alt="Bootstrap">
                                </button>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col control-width control-margin" style="padding-left: 0px;"></div>
            </div>

            <div class="modal fade" id="settings-modal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            <input type="checkbox" id="settings-file-time-checkbox" style="vertical-align: middle;">
                            <label for="settings-file-time-checkbox" id="settings-file-time-label">Display real time on x axis</label>
                            <br>
                            <input type="checkbox" id="settings-video-line-checkbox" style="vertical-align: middle;">
                            <label for="settings-video-line-checkbox" id="settings-video-line-label">Enable tracking line on exported video</label>
                            <br>
                            <input type="checkbox" id="settings-video-fixed-fps-checkbox" style="vertical-align: middle;">
                            <label for="settings-video-fixed-fps-checkbox" id="settings-video-fixed-fps-label">Favour frame rate over file size when generating videos</label>
                            <hr>
                            <label for="settings-monochrome-select" id="settings-monochrome-label" style="margin-right: 5px; margin-top: 3px;">Colour palette:</label>
                            <select id="settings-monochrome-select">
                                <option value="0">Default</option>
                                <option value="1">Monochrome</option>
                                <option value="2">Inverse monochrome</option>
                            </select>
                            <br>
                            <input type="checkbox" id="settings-dynamic-colours-checkbox" style="vertical-align: middle;">
                            <label for="settings-dynamic-colours-checkbox" id="settings-dynamic-colours-label">Use dynamic spectrogram colouring</label>
                        </div>
                        <div class="modal-footer">
                            <button id="settings-cancel-button" type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button id="settings-apply-button" type="button" class="btn btn-success">Apply</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="export-modal" tabindex="-1" role="dialog" aria-labelledby="exportModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="exportModalLabel">Export Image</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="export-close-button">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            The current view can be downloaded as a PNG or PDF file.
                        </div>
                        <div class="modal-footer">
                            <button id="export-png-button" type="button" class="btn btn-success">PNG</button>
                            <button id="export-jpg-button" type="button" class="btn btn-success">JPG</button>
                            <button id="export-pdf-button" type="button" class="btn btn-success">PDF</button>
                            <button id="export-all-button" type="button" class="btn btn-primary">All</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="comment-modal" tabindex="-1" role="dialog" aria-labelledby="commentModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="commentModalLabel">File Information</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body" id="comment-text">
                            <span id="artist-span" style="margin-bottom: 5px; float: left; clear: left;">AudioMoth</span>
                            <span id="comment-span" style="float: left; clear: left;">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="slice-modal" tabindex="-1" role="dialog" aria-labelledby="slice-modal-label" aria-hidden="true">
                <div class="modal-dialog" role="document" style="max-width: 820px;">

                    <!-- Loading UI -->

                    <div class="modal-content" id="slice-loading-content">
                        <div class="modal-header">
                        <h5 class="modal-title">Select part of chosen file</h5>
                        </div>
                        <div class="modal-body">
                            File length exceeds 60 seconds. Loading interval selection.
                        </div>

                        <div class="modal-body" id="slice-text" style="padding: 0px; height: 210px;">
                            <div class="wrapper" style="width: 100%; height: 170px;">
                                <svg class="slice-canvas" id="slice-loading-border-svg" width="720" height="170" style="padding: 0%;"></svg>
                                <svg class="slice-canvas" id="slice-loading-SVG" width="720" height="170" style="padding: 0%; z-index: 1;"></svg>
                                <svg class="slice-canvas" id="slice-loading-fill-SVG" width="720" height="170" style="padding: 0%; z-index: 0;"></svg>
                            </div>

                        </div>

                        <div class="modal-body" style="padding-left: 0px; padding-right: 0px;">
                            <div class="row">
                                <div class="col-6">
                                    <button type="button" class="btn btn-secondary" style="margin-left: 50px;" disabled><</button>
                                    <button type="button" class="btn btn-secondary" style="margin-right: 5px;" disabled>></button>
                                </div>
                                <div class="col-6" style="text-align: right;">
                                    <button type="button" class="btn btn-secondary" style="margin-left: 5px;" disabled><</button>
                                    <button type="button" class="btn btn-secondary" style="margin-right: 50px;" disabled>></button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="slice-loading-cancel-button">Cancel</button>
                            <button type="button" class="btn btn-primary" disabled>Select</button>
                        </div>
                    </div>

                    <!-- Preview UI -->

                    <div class="modal-content" style="display: none;" id="slice-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="slice-modal-label">Select part of chosen file</h5>
                        </div>
                        <div class="modal-body">
                            File length exceeds 60 seconds. Select a 60 second interval.
                        </div>
                        <div class="modal-body" id="slice-text" style="padding: 0px;">

                            <div class="wrapper" style="width: 100%; height: 170px;">
                                <canvas class="slice-canvas" id="slice-canvas" width="720" height="170" style="padding: 0%;"></canvas>
                                <svg class="slice-canvas" id="slice-border-svg" width="720" height="170" style="padding: 0%;"></svg>
                                <canvas class="slice-canvas" id="slice-hover-canvas" width="720" height="170" style="padding: 0%;"></canvas>
                                <canvas class="slice-canvas" id="slice-selection-canvas" width="720" height="170" style="padding: 0%;"></canvas>
                            </div>

                            <div class="wrapper" style="width: 100%; height: 20px;">
                                <!-- Time axis -->
                                <div class="row" style="margin-top: 0%; text-align: center;">
                                    <svg class="slice-axis" id="slice-time-axis-svg" width="760px" height="20px"></svg>
                                </div>

                            </div>

                            <div class="wrapper" style="width: 100%; height: 20px;">
                                <!-- Time axis heading -->
                                <div class="row" style="margin-top: 0%; text-align: center;">
                                    <svg class="slice-axis" id="slice-time-axis-label-svg" width="760px" height="20px"></svg>
                                </div>
                            </div>

                        </div>
                        <div class="modal-body" style="padding-left: 0px; padding-right: 0px;">
                            <div class="row">
                                <div class="col-6">
                                    <button type="button" class="btn btn-secondary" id="slice-selection-left-button" style="margin-left: 50px;" disabled><</button>
                                    <button type="button" class="btn btn-secondary" id="slice-selection-right-button" style="margin-right: 5px;">></button>
                                    <span id="slice-selection-span">00:00:00 - 00:01:00</span>
                                </div>
                                <div class="col-6" style="text-align: right;">
                                    <span id="slice-page-span">Page 1 of 1</span>
                                    <button type="button" class="btn btn-secondary" id="slice-page-left-button" style="margin-left: 5px;" disabled><</button>
                                    <button type="button" class="btn btn-secondary" id="slice-page-right-button" style="margin-right: 50px;" disabled>></button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="slice-close-button">Cancel</button>
                            <button type="button" class="btn btn-primary" id="slice-select-button">Select</button>
                        </div>
                    </div>

                </div>
            </div>

            <div id="instructions-content" style="display: none;">

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h3 id="instructions">Instructions</h3>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <p>AudioMoth Play allows you to explore filter and trigger settings on existing AudioMoth WAV files before applying them in the files.</p>

                        <p>Select a .WAV recording. Files longer than 60 seconds will open as a preview, allowing you to select a 60 second section to load. Once the file has loaded, you can navigate through your recording using the buttons above the plot, or by clicking and dragging to select the area you wish to see in detail. You can also double click on either plot to zoom in and centre on specific features of interest.</p>

                        <p>Add a low, high, or band pass filter using the controls on the right; selecting a radio button besides "None" to add a filter and then dragging the sliders to set the required filter frequency. The plots update in real time to show the effect of the filter.</p>
                        
                        <p>Apply an amplitude threshold trigger by clicking the corresponding radio button on the right and then dragging the slider to set the threshold. The threshold will be drawn onto the waveform plot to show you which parts of the signal will trigger. You can change the units used to display this threshold using the drop-down menu at the top left of the plots. Once a threshold has been set, the plot will automatically grey out parts of the recording which fall below the threshold.</p>

                        <p>Selecting the frequency trigger will change the waveform to a frequency response plot. Use the radio buttons and slider to set the frequency band shown on this plot. Once you've chosen a band, drag the lower slider to set the frequency response threshold.</p>
                        
                        <p>Selecting either the amplitude trigger or no trigger will allow you to add a low, high, or band pass filter; tick the checkbox to enable the filter and then drag the sliders to set the required filter frequency. The plots update in real time to show the effect of the filter.</p>

                        <p>Once you are happy with the filter and amplitude threshold settings, click <b>Export Configuration</b> to download a .config which can be loaded in the AudioMoth Configuration App (version 1.6.0 onwards).</p>
                        
                        <p>You can use the controls beneath the plots to export WAV sound files, PNG, JPG, and PDF images, and MP4 videos of your AudioMoth recordings.</p>
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 10px;">
                    <div class="col total-width">
                        <h3>Example files</h3>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div id="examples" class="col total-width">
                        <p>You can use these example files to explore settings if you do not currently have an AudioMoth file to use.</p>
                        <ul>
                            <li><a href="#" id="example-link1">Example 1</a> - Bat</li>
                            <li><a href="#" id="example-link2">Example 2</a> - Frequency sweep</li>
                            <li><a href="#" id="example-link3">Example 3</a> - Metronome</li>
                        </ul> 
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 10px;">
                    <div class="col total-width">
                        <h3 id="faqs">FAQs</h3>
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h5>Why won't my file load?</h5>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div class="col total-width">
                        AudioMoth Play will open any 16-bit PCM WAV files recorded at a sample rate supported by AudioMoth (8, 16, 32, 48, 96, 192, 250, and 384 kHz). Files recorded at 44.1, 125, and 312.5 kHz will be automatically resampled to 48, 192, and 384 kHz respectively.
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h5>What is "amplitude threshold triggered recording"?</h5>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div class="col total-width">
                        Amplitude threshold triggered recording is a recording mode where an AudioMoth will only collect samples when their amplitude exceeds a certain value. Once a threshold has been selected, these samples are saved to SD card, as well as the lengths of the gaps between each acoustic event.
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h5>What is "frequency triggered recording"?</h5>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div class="col total-width">
                        Frequency triggered recording is a recording mode where an AudioMoth will only collect samples when the response of a chosen frequency band exceeds a certain value. Once a threshold has been selected, these samples are saved to SD card, as well as the lengths of the gaps between each acoustic event.
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h5>What does "window length" change when configuring a frequency trigger?</h5>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div class="col total-width">
                        The window length controls the width of the frequency band which the threshold is applied to. The lower the window length, the wider the band. The size and position of the band is displayed on the spectrogram plot when the frequency trigger is selected.
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h5>What changes when I set a minimum trigger duration?</h5>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div class="col total-width">
                        Selecting a minimum trigger duration will make sure that all triggered recordings are at least this length, continuing to collect samples even after a triggered event has ended. This is useful for situations such as detecting bat calls, where the initial impulse can trigger a recording and the quieter tail of the sound is also required.
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 15px;">
                    <div class="col total-width">
                        <h5>How do I zoom into a specific section of my recording?</h5>
                    </div>
                </div>
                <div class="row justify-content-md-center" style="margin-top: 5px;">
                    <div class="col total-width">
                        You can navigate through your recording using the buttons above the plot, or move to a specific part by clicking and dragging or double clicking on either plot to highlight the area you wish to see in detail.
                    </div>
                </div>

                <div class="row justify-content-md-center" style="margin-top: 25px; margin-bottom: 20px;">
                    <div class="col total-width" style="text-align: center;">
                        <a href="https://github.com/OpenAcousticDevices/AudioMoth-Filter-Playground"><img src="./assets/GitHub-Mark-32px.png"></a>
                        <a href="https://openacousticdevices.info" style="margin-left: 5px;"><img src="./assets/icon.png"></a>
                    </div>
                </div>

            </div>

        </div>
    </body>
    <script src="scripts/constants.js"></script>
    <script src="scripts/labelBuilding.js"></script>
    <script src="scripts/drawSVG.js"></script>
    <script src="scripts/butterworth.js"></script>
    <script src="scripts/resampler.js"></script>
    <script src="scripts/wavReader.js"></script>
    <script src="scripts/wavWriter.js"></script>
    <script src="scripts/stft.js"></script>
    <script src="scripts/spectrogram.js"></script>
    <script src="scripts/waveform.js"></script>
    <script src="scripts/wavPreviewer.js"></script>
    <script src="scripts/amplitudeThreshold.js"></script>
    <script src="scripts/goertzelFilter.js"></script>
    <script src="scripts/playAudio.js"></script>
    <script src="scripts/sliderControl.js"></script>
    <script src="scripts/sampleRateControl.js"></script>
    <script src="scripts/uiFiltering.js"></script>
    <script src="scripts/exportImages.js"></script>
    <script src="scripts/exportAudio.js"></script>
    <script src="scripts/exportVideo.js"></script>
    <script src="scripts/downsampler.js"></script>
    <script src="scripts/index.js"></script>
</html>
